--- ./references/basecoat/src/css/basecoat.css	2025-12-23 02:13:27.996941912 -0800
+++ dist/basecoat.combined.temp.css	2025-12-30 01:25:06.690814123 -0800
@@ -1,3 +1,9 @@
+/*
+  Main CSS file for Basecoat. 
+  This file has been refactored to import smaller, modular parts.
+*/
+
+/* 1. Core Styles, Variables, and Resets */
 @custom-variant dark (&:is(.dark *));
 
 :root {
@@ -83,43 +89,7 @@
   color-scheme: dark;
 }
 
-@theme {
-  --radius-sm: calc(var(--radius) - 4px);
-  --radius-md: calc(var(--radius) - 2px);
-  --radius-lg: var(--radius);
-  --radius-xl: calc(var(--radius) + 4px);
-  --color-background: var(--background);
-  --color-foreground: var(--foreground);
-  --color-card: var(--card);
-  --color-card-foreground: var(--card-foreground);
-  --color-popover: var(--popover);
-  --color-popover-foreground: var(--popover-foreground);
-  --color-primary: var(--primary);
-  --color-primary-foreground: var(--primary-foreground);
-  --color-secondary: var(--secondary);
-  --color-secondary-foreground: var(--secondary-foreground);
-  --color-muted: var(--muted);
-  --color-muted-foreground: var(--muted-foreground);
-  --color-accent: var(--accent);
-  --color-accent-foreground: var(--accent-foreground);
-  --color-destructive: var(--destructive);
-  --color-border: var(--border);
-  --color-input: var(--input);
-  --color-ring: var(--ring);
-  --color-chart-1: var(--chart-1);
-  --color-chart-2: var(--chart-2);
-  --color-chart-3: var(--chart-3);
-  --color-chart-4: var(--chart-4);
-  --color-chart-5: var(--chart-5);
-  --color-sidebar: var(--sidebar);
-  --color-sidebar-foreground: var(--sidebar-foreground);
-  --color-sidebar-primary: var(--sidebar-primary);
-  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
-  --color-sidebar-accent: var(--sidebar-accent);
-  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
-  --color-sidebar-border: var(--sidebar-border);
-  --color-sidebar-ring: var(--sidebar-ring);
-}
+@import "../config.css";
 
 @layer base {
   * {
@@ -148,6 +118,9 @@
   }
 }
 
+
+
+/* 2. Components (Matched to upstream structure) */
 /* Alert */
 @layer components {
   .alert,
@@ -183,6 +156,7 @@
   }
 }
 
+
 /* Badge */
 @layer components {
   .badge,
@@ -203,10 +177,11 @@
     @apply border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60;
   }
   .badge-outline {
-    @apply text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground;
+    @apply border-border bg-background text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground;
   }
 }
 
+
 /* Button */
 @layer components {
   .btn,
@@ -251,7 +226,11 @@
   .btn-lg-icon-ghost,
   .btn-lg-icon-link,
   .btn-lg-icon-destructive {
-    @apply inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer rounded-md;
+    @apply inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer rounded-md;
+    
+    & svg:not([class*="size-"]) {
+      @apply size-4;
+    }
   }
   .btn,
   .btn-primary,
@@ -318,7 +297,7 @@
   .btn-sm-icon,
   .btn-sm-icon-primary,
   .btn-lg-icon,
-  .btn-lg-icon-primary {  
+  .btn-lg-icon-primary {
     @apply bg-primary text-primary-foreground shadow-xs hover:bg-primary/90;
     &[aria-pressed='true'] {
       @apply bg-primary/90;
@@ -342,7 +321,7 @@
   .btn-icon-outline,
   .btn-sm-icon-outline,
   .btn-lg-icon-outline {
-    @apply border bg-background shadow-xs dark:bg-input/30 dark:border-input;
+    @apply border bg-background text-foreground shadow-xs dark:bg-input/30 dark:border-input;
     &:hover,
     &[aria-pressed='true'] {
       @apply bg-accent text-accent-foreground dark:bg-accent/50;
@@ -354,6 +333,7 @@
   .btn-icon-ghost,
   .btn-sm-icon-ghost,
   .btn-lg-icon-ghost {
+    @apply bg-transparent text-foreground shadow-none;
     &:hover,
     &[aria-pressed='true'] {
       @apply bg-accent text-accent-foreground dark:bg-accent/50;
@@ -365,10 +345,10 @@
   .btn-icon-link,
   .btn-sm-icon-link,
   .btn-lg-icon-link {
-    @apply text-primary underline-offset-4;
+    @apply bg-transparent text-primary underline-offset-4 shadow-none;
     &:hover,
     &[aria-pressed='true'] {
-      @apply hover:underline;
+      @apply hover:underline hover:bg-transparent;
     }
   }
   .btn-destructive,
@@ -385,6 +365,7 @@
   }
 }
 
+
 /* Button Group */
 @layer components {
   .button-group {
@@ -428,6 +409,7 @@
   }
 }
 
+
 /* Card */
 @layer components {
   .card {
@@ -453,6 +435,7 @@
   }
 }
 
+
 /* Checkbox */
 @layer components {
   :is(.form, .field) input[type='checkbox']:not([role='switch']),
@@ -466,6 +449,7 @@
   }
 }
 
+
 /* Collapsible */
 @layer components {
   details {
@@ -487,6 +471,7 @@
   }
 }
 
+
 /* Command */
 @layer components {
   .command-dialog {
@@ -526,7 +511,11 @@
       }
       > button,
       > form[method='dialog'] > button {
-        @apply ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground  rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4;
+        @apply ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground  rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0;
+        
+        & svg:not([class*="size-"]) {
+          @apply size-4;
+        }
       }
     }
 
@@ -562,7 +551,11 @@
       @apply max-h-[300px] overflow-y-auto overflow-x-hidden p-1;
 
       [role='menuitem'] {
-        @apply aria-hidden:hidden relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none aria-disabled:opacity-50 aria-disabled:pointer-events-none disabled:opacity-50 disabled:pointer-events-none w-full truncate [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4;
+        @apply aria-hidden:hidden relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none aria-disabled:opacity-50 aria-disabled:pointer-events-none disabled:opacity-50 disabled:pointer-events-none w-full truncate [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0;
+
+        & svg:not([class*="size-"]) {
+          @apply size-4;
+        }
 
         &.active {
           @apply bg-accent text-accent-foreground;
@@ -596,67 +589,81 @@
   }
 }
 
+
 /* Dialog */
 @layer components {
-  .dialog {
-    @apply inset-y-0 opacity-0 transition-all transition-discrete;
-
-    &:is([open],:popover-open) {
-      @apply opacity-100;
-
-      &::backdrop {
-        @apply opacity-100;
-      }
-      > * {
-        @apply scale-100;
-      }
+  @keyframes dialog-spring-in {
+    0% { opacity: 0; transform: scale(0.9); }
+    50% { opacity: 1; transform: scale(1.05); }
+    100% { opacity: 1; transform: scale(1); }
+  }
+  
+  @keyframes backdrop-in {
+    from { opacity: 0; }
+    to { opacity: 1; }
+  }
 
-      @starting-style {
-        @apply opacity-0;
+  .dialog {
+    /* 
+       Base Modal Styles 
+       Position: Fixed (Native behavior uses fixed/absolute in top layer)
+       Centering: Native <dialog> uses 'margin: auto' and 'inset: 0' by default.
+       We enforce this to ensure it works even if overrides existed.
+    */
+    @apply fixed inset-0 z-50 grid w-full max-w-lg gap-4 border bg-background p-6 shadow-lg duration-200 sm:rounded-lg opacity-0 invisible;
+    
+    margin: auto !important; 
+    height: fit-content !important;
 
-        &::backdrop {
-          @apply opacity-0;
-        }
-        > * {
-          @apply scale-95;
-        }
-      }
+    /* Open state */
+    &[open] {
+      @apply opacity-100 visible;
+      /* 
+         UPDATED ANIMATION (User Request): 
+         Added a spring-like pop-up effect (scale 0.9 -> 1.05 -> 1.0) 
+         instead of the original simple fade/scale.
+         Duration increased to 0.3s for better visibility.
+         Defined in @keyframes dialog-spring-in above.
+      */
+      animation: dialog-spring-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
     }
+
+    /* Backdrop */
     &::backdrop {
-      @apply bg-black/50 opacity-0 transition-all transition-discrete;
+      @apply fixed inset-0 z-50 bg-black/50;
+      animation: backdrop-in 0.3s ease-out forwards;
     }
-    > * {
-      @apply bg-background fixed top-[50%] left-[50%] z-50 flex flex-col w-full max-w-[calc(100%_-_2rem)] -translate-x-1/2 -translate-y-1/2 gap-4 rounded-lg border p-6 shadow-lg sm:max-w-lg max-h-[calc(100%_-_2rem)];
-      @apply transition-all scale-95;
 
-      > header {
-        @apply flex flex-col gap-2 text-center sm:text-left;
+    /* Inner Layout */
+    > header {
+      @apply flex flex-col gap-2 text-center sm:text-left;
 
-        > h2 {
-          @apply text-lg leading-none font-semibold;
-        }
-        > p {
-          @apply text-muted-foreground text-sm;
-        }
-      }
-      > section {
-        @apply flex-1 -mx-6 px-6;
-      }
-      > footer {
-        @apply flex flex-col-reverse gap-2 sm:flex-row sm:justify-end;
+      > h2 {
+        @apply text-lg leading-none font-semibold;
       }
-      > button,
-      > form[method='dialog'] {
-        @apply absolute top-4 right-4;
+      > p {
+        @apply text-muted-foreground text-sm;
       }
-      > button,
-      > form[method='dialog'] > button {
-        @apply ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground  rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4;
+    }
+    > section {
+      @apply flex-1;
+    }
+    > footer {
+      @apply flex flex-col-reverse gap-2 sm:flex-row sm:justify-end;
+    }
+    
+    /* Close Button - positioned absolute top-right */
+    > button.close,
+    > form[method='dialog'] > button.close {
+      @apply absolute top-4 right-4 p-0 bg-transparent border-0 cursor-pointer;
+      @apply ring-offset-background focus:ring-ring text-muted-foreground hover:text-foreground rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none;
+      
+      & svg {
+        @apply size-4;
       }
     }
   }
 }
-
 /* Dropdown Menu */
 @layer components {
   .dropdown-menu {
@@ -666,11 +673,14 @@
       @apply p-1;
       min-width: anchor-size(width);
 
-      [role='menuitem'],
-      [role='menuitemcheckbox'],
-      [role='menuitemradio'] {
-        @apply aria-hidden:hidden [&_svg]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none [&_svg]:shrink-0 [&_svg]:size-4 aria-disabled:opacity-50 aria-disabled:pointer-events-none disabled:opacity-50 disabled:pointer-events-none w-full truncate;
-
+            [role='menuitem'],
+            [role='menuitemcheckbox'],
+            [role='menuitemradio'] {
+              @apply aria-hidden:hidden [&_svg]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none [&_svg]:shrink-0 aria-disabled:opacity-50 aria-disabled:pointer-events-none disabled:opacity-50 disabled:pointer-events-none w-full truncate;
+      
+              & svg:not([class*="size-"]) {
+                @apply size-4;
+              }
         &:not([aria-disabled='true']) {
           @apply focus-visible:bg-accent focus-visible:text-accent-foreground;
         }
@@ -696,6 +706,7 @@
   }
 }
 
+
 /* Field */
 @layer components {
   .fieldset {
@@ -740,6 +751,7 @@
   }
 }
 
+
 /* Input */
 @layer components {
   :is(.form, .field) input[type='text']:not(:is(.select [data-popover] > header input[role='combobox'], .command > header input, .dialog > * > header input)),
@@ -774,13 +786,20 @@
   }
 }
 
+
 /* Kbd */
 @layer components {
   .kbd {
-    @apply bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium select-none [&_svg:not([class*='size-'])]:size-3;
+    @apply bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium select-none;
+    
+    & svg:not([class*="size-"]) {
+      @apply size-3;
+    }
   }
 }
 
+
+
 /* Label */
 @layer components {
   :is(.form, .field) label,
@@ -794,6 +813,7 @@
   }
 }
 
+
 /* Popover */
 @layer components {
   [data-popover] {
@@ -866,6 +886,7 @@
   } 
 }
 
+
 /* Radio */
 @layer components {
   :is(.form, .field) input[type='radio'],
@@ -878,45 +899,52 @@
   }
 }
 
+
 /* Range */
 @layer components {
   :is(.form, .field) input[type='range'],
-  .input[type='range'] {
+  .input[type='range'],
+  .slider {
     @apply appearance-none flex items-center p-0 outline-none;
-    --slider-value: 20%;
+    --slider-value: 0%; /* Default value, updated by JS */
 
     &:hover,
     &:focus-visible {
       &::-webkit-slider-thumb {
-        @apply ring-4;
+        @apply ring-4 ring-ring/20 shadow-sm;
       }
       &::-moz-range-thumb {
-        @apply ring-4;
+        @apply ring-4 ring-ring/20 shadow-sm;
       }
       &::-ms-thumb {
-        @apply ring-4;
+        @apply ring-4 ring-ring/20 shadow-sm;
       }
     }
 
     &::-webkit-slider-thumb {
-      @apply appearance-none border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm -mt-1.25;
+      @apply appearance-none block size-4 shrink-0 rounded-full border border-primary bg-background shadow-sm -mt-1.25 cursor-pointer transition-[box-shadow];
     }
     &::-webkit-slider-runnable-track {
-      @apply appearance-none rounded-full h-1.5 w-full;
+      @apply appearance-none rounded-full h-1.5 w-full cursor-pointer;
       background: linear-gradient(to right, var(--primary) var(--slider-value), var(--muted) var(--slider-value));
-    }    
+    }
+    
     &::-moz-range-thumb {
-      @apply appearance-none border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm -mt-1.25;
+      @apply appearance-none block size-4 shrink-0 rounded-full border border-primary bg-background shadow-sm -mt-1.25 cursor-pointer transition-[box-shadow];
     }
     &::-moz-range-track {
-      @apply appearance-none rounded-full h-1.5 w-full;
+      @apply appearance-none rounded-full h-1.5 w-full cursor-pointer;
       background: linear-gradient(to right, var(--primary) var(--slider-value), var(--muted) var(--slider-value));
     }
+
     &::-ms-thumb {
-      @apply appearance-none border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm -mt-1.25;
+      @apply appearance-none block size-4 shrink-0 rounded-full border border-primary bg-background shadow-sm -mt-1.25 cursor-pointer transition-[box-shadow];
     }
     &::-ms-track {
-      @apply appearance-none rounded-full h-1.5 w-full;
+      @apply appearance-none rounded-full h-1.5 w-full cursor-pointer;
+      background: transparent; 
+      border-color: transparent;
+      color: transparent;
     }
     &::-ms-fill-lower {
       @apply bg-primary rounded-full;
@@ -927,6 +955,7 @@
   }
 }
 
+
 /* Select */
 @layer components {
   :is(.form, .field) select,
@@ -946,7 +975,11 @@
       @apply p-1;
 
       [role='option'] {
-        @apply aria-hidden:hidden [&_svg]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm pl-2 py-1.5 pr-7.5 text-sm outline-hidden select-none [&_svg]:shrink-0 [&_svg]:size-4 aria-disabled:opacity-50 aria-disabled:pointer-events-none disabled:opacity-50 disabled:pointer-events-none w-full truncate;
+        @apply aria-hidden:hidden [&_svg]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm pl-2 py-1.5 pr-7.5 text-sm outline-hidden select-none [&_svg]:shrink-0 aria-disabled:opacity-50 aria-disabled:pointer-events-none disabled:opacity-50 disabled:pointer-events-none w-full truncate;
+        
+        & svg:not([class*="size-"]) {
+          @apply size-4;
+        }
         
         &[aria-selected='true'] {
           @apply bg-[image:var(--check-icon)] bg-no-repeat bg-position-[center_right_0.5rem] bg-size-[0.875rem];
@@ -994,6 +1027,7 @@
   }
 }
 
+
 /* Sidebar */
 @layer components {
   .sidebar {
@@ -1116,6 +1150,7 @@
   }
 }
 
+
 /* Switch */
 @layer components {
   :is(.form, .field) input[type='checkbox'][role='switch'],
@@ -1128,6 +1163,7 @@
   }
 }
 
+
 /* Tables */
 @layer components {
   .table {
@@ -1156,6 +1192,7 @@
   }
 }
 
+
 /* Tabs */
 @layer components {
   .tabs {
@@ -1165,7 +1202,11 @@
       @apply bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px];
 
       [role='tab'] {
-        @apply focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground dark:text-muted-foreground inline-flex h-[calc(100%_-_1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4;
+        @apply focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground dark:text-muted-foreground inline-flex h-[calc(100%_-_1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0;
+
+        & svg:not([class*="size-"]) {
+          @apply size-4;
+        }
 
         &[aria-selected='true'] {
           @apply bg-background dark:text-foreground dark:border-input dark:bg-input/30 shadow-sm;
@@ -1178,6 +1219,8 @@
   }
 }
 
+
+
 /* Textarea */
 @layer components {
   :is(.form, .field) textarea,
@@ -1186,6 +1229,7 @@
   }
 }
 
+
 /* Toasts */
 @layer components {
   .toaster {
@@ -1244,6 +1288,7 @@
   }
 }
 
+
 /* Tooltip */
 @layer components {
   [data-tooltip] {
@@ -1300,3 +1345,453 @@
     }
   }
 }
+
+
+
+/* 3. Custom Components (New additions) */
+/* Carousel */
+@layer components {
+  .carousel {
+    @apply relative w-full;
+  }
+  .carousel-content {
+    @apply flex overflow-x-auto snap-x snap-mandatory scroll-smooth;
+    scrollbar-width: none; /* Hide scrollbar for Firefox */
+    &::-webkit-scrollbar {
+      display: none; /* Hide scrollbar for Chrome, Safari, and Opera */
+    }
+  }
+  .carousel-item {
+    @apply min-w-0 shrink-0 grow-0 basis-full snap-start;
+  }
+  .carousel-previous,
+  .carousel-next {
+    @apply absolute size-8 rounded-full z-10 flex items-center justify-center border bg-background shadow-sm transition-all hover:bg-accent hover:text-accent-foreground disabled:opacity-50 disabled:pointer-events-none;
+    & > svg {
+        @apply size-4;
+    }
+  }
+  .carousel-previous {
+    @apply -left-12 top-1/2 -translate-y-1/2;
+  }
+  .carousel-next {
+    @apply -right-12 top-1/2 -translate-y-1/2;
+  }
+
+  /* Vertical Carousel */
+  .carousel[data-orientation="vertical"] {
+    .carousel-content {
+      @apply flex-col overflow-x-hidden overflow-y-auto snap-y;
+      height: var(--carousel-height, 400px); /* Default height */
+    }
+    .carousel-previous {
+      @apply -top-8 left-1/2 -translate-x-1/2 rotate-90 translate-y-0;
+      top: -2rem !important; /* Force top */
+    }
+    .carousel-next {
+      @apply -bottom-8 top-auto left-1/2 -translate-x-1/2 rotate-90 translate-y-0;
+      bottom: -2rem !important; /* Force bottom */
+      top: auto !important;
+    }
+  }
+}
+
+/* Input OTP */
+@layer components {
+  .input-otp {
+    @apply flex items-center gap-2 has-[:disabled]:opacity-50;
+  }
+  .input-otp-group {
+    @apply flex items-center;
+    
+    .input {
+        @apply w-10 h-10 text-center text-lg p-0 rounded-none first:rounded-l-md last:rounded-r-md border-r-0 last:border-r focus:z-10 relative;
+    }
+  }
+}
+
+/* Sheet & Drawer */
+@layer components {
+  .sheet {
+    @apply fixed inset-0 z-50 bg-black/80;
+
+    &[aria-hidden="true"] {
+      @apply hidden;
+    }
+
+    .sheet-content {
+      @apply fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out duration-300;
+      
+      &[data-side="top"] {
+        @apply inset-x-0 top-0 border-b data-[state=closed]:-translate-y-full data-[state=open]:translate-y-0;
+      }
+      &[data-side="bottom"] {
+        @apply inset-x-0 bottom-0 border-t data-[state=closed]:translate-y-full data-[state=open]:translate-y-0;
+      }
+      &[data-side="left"] {
+        @apply inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm data-[state=closed]:-translate-x-full data-[state=open]:translate-x-0;
+      }
+      &[data-side="right"] {
+        @apply inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm data-[state=closed]:translate-x-full data-[state=open]:translate-x-0;
+      }
+    }
+  }
+
+  .drawer {
+    @apply fixed inset-0 z-50 bg-black/80 flex flex-col items-end sm:items-center justify-end;
+
+    &[aria-hidden="true"] {
+      @apply hidden;
+    }
+
+    .drawer-content {
+        @apply fixed z-50 flex flex-col bg-background border border-b-0 rounded-t-[10px] bottom-0 inset-x-0 h-auto max-h-[35vh] transition-transform ease-in-out duration-300 data-[state=closed]:translate-y-full data-[state=open]:translate-y-0;
+    }
+  }
+}
+
+/* 
+========================================
+ANIMATIONS & KEYFRAMES
+Spring effects for Drawer and Sheet
+========================================
+*/
+@layer utilities {
+    /* Spring Bezier: Starts fast, overshoots slightly (1.1), then settles */
+    .ease-spring {
+        transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.1);
+    }
+}
+
+@layer components {
+    /* Keyframes for Slide Animations (Drawer, Sheet, etc.) */
+    @keyframes spring-slide-up {
+        0% { transform: translateY(100%); }
+        70% { transform: translateY(-10%); } /* Overshoot up */
+        100% { transform: translateY(0); }
+    }
+    
+    @keyframes spring-slide-down {
+        0% { transform: translateY(-100%); }
+        70% { transform: translateY(10%); } /* Overshoot down */
+        100% { transform: translateY(0); }
+    }
+    
+    @keyframes spring-slide-from-right {
+        0% { transform: translateX(100%); }
+        70% { transform: translateX(-2%); } /* Overshoot left */
+        100% { transform: translateX(0); }
+    }
+
+    @keyframes spring-slide-from-left {
+        0% { transform: translateX(-100%); }
+        70% { transform: translateX(2%); } /* Overshoot right */
+        100% { transform: translateX(0); }
+    }
+
+    /* Drawer Animation (Bottom Sheet) */
+    .drawer:not(.no-animation)[aria-hidden="false"] .drawer-content {
+        animation: spring-slide-up 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
+    }
+
+    /* Sheet Animation (Side Panel) */
+    .sheet:not(.no-animation)[aria-hidden="false"] {
+        .sheet-content[data-side="right"] {
+            animation: spring-slide-from-right 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
+        }
+        .sheet-content[data-side="left"] {
+            animation: spring-slide-from-left 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
+        }
+        .sheet-content[data-side="top"] {
+            animation: spring-slide-down 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
+        }
+        .sheet-content[data-side="bottom"] {
+            animation: spring-slide-up 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
+        }
+    }
+}
+/* Toggle Group */
+@layer components {
+  .toggle-group {
+    @apply flex items-center justify-center gap-1;
+    
+    &[data-orientation="vertical"] {
+      @apply flex-col;
+    }
+    
+    /* Merged style (like button-group) */
+    &:not([data-variant="outline"]) {
+       gap: 0;
+       
+       .toggle {
+         @apply rounded-none border-l-0 first:rounded-l-md first:border-l last:rounded-r-md focus:z-10;
+       }
+       &[data-orientation="vertical"] .toggle {
+         @apply rounded-none border-t-0 first:rounded-t-md first:border-t last:rounded-b-md;
+       }
+    }
+  }
+
+  /* Toggle Button (Base Style) */
+  .toggle {
+    @apply inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground bg-transparent dark:bg-transparent h-10 px-3 min-w-10 border border-input;
+    
+    /* Enhanced Active State */
+    &[aria-pressed="true"] {
+      @apply bg-accent text-accent-foreground border-accent;
+    }
+  }
+}
+
+
+/* 4. Extensions & Overrides */
+/* 
+========================================
+BASECOAT NEUMORPHISM EXTENSION
+========================================
+Global adaptive lighting system.
+*/
+
+@layer components {
+  :root {
+      /* Global Light Coordinates (Updated by JS) */
+      --light-x: -8px;
+      --light-y: -8px;
+      
+      /* Shape Factors */
+      --neu-radius: 24px;
+      --neu-blur: 20px;
+
+      /* Color Logic - Light Mode (Default) */
+      --neu-highlight-color: color-mix(in srgb, white, transparent 10%);
+      --neu-shadow-color: rgba(0, 0, 0, 0.15);
+      
+      /* Shine Color: Light Mode uses a subtle dark sweep (via foreground) for visibility on white */
+      --neu-shine-color: color-mix(in srgb, var(--foreground), transparent 90%);
+  }
+
+  /* Dark Mode Adaptation */
+  :root.dark {
+      --neu-highlight-color: rgba(255, 255, 255, 0.12);
+      --neu-shadow-color: rgba(0, 0, 0, 0.5);
+      
+      /* Shine Color: Dark Mode uses white sweep */
+      --neu-shine-color: rgba(255, 255, 255, 0.1);
+  }
+
+  /* 
+     Panel / Container (Convex)
+     Applies an outer shadow to simulate a raised surface.
+  */
+  .neu-panel {
+      @apply bg-background text-foreground transition-colors duration-300 ease-out;
+      border-radius: var(--neu-radius);
+      border: 1px solid color-mix(in srgb, var(--foreground), transparent 97%);
+      
+      box-shadow: 
+          calc(var(--light-x) * -1) calc(var(--light-y) * -1) var(--neu-blur) var(--neu-shadow-color),
+          var(--light-x) var(--light-y) var(--neu-blur) var(--neu-highlight-color);
+  }
+
+  /* 
+     Field / Input (Concave)
+     Applies an inner shadow to simulate a recessed surface.
+  */
+  .neu-field {
+      @apply bg-background text-foreground transition-all duration-200 border-none outline-none;
+      border-radius: 12px;
+      
+      box-shadow: 
+          inset calc(var(--light-x) * -1) calc(var(--light-y) * -1) 12px var(--neu-shadow-color),
+          inset var(--light-x) var(--light-y) 12px var(--neu-highlight-color);
+
+      &:focus {
+          @apply text-primary;
+          box-shadow: 
+              inset calc(var(--light-x) * -0.5) calc(var(--light-y) * -0.5) 8px var(--neu-shadow-color),
+              inset var(--light-x) var(--light-y) 8px var(--neu-highlight-color);
+      }
+  }
+
+  /* 
+     Button (Convex + Interactive)
+     Simulates a raised button that presses down (becomes concave/flat) on active.
+  */
+  .neu-btn {
+      @apply bg-background text-foreground font-semibold cursor-pointer transition-all duration-100 border-none;
+      border-radius: 12px;
+      
+      box-shadow: 
+          calc(var(--light-x) * -1) calc(var(--light-y) * -1) 16px var(--neu-shadow-color),
+          var(--light-x) var(--light-y) 16px var(--neu-highlight-color);
+
+      &:hover {
+          @apply text-primary -translate-y-0.5;
+          box-shadow: 
+              calc(var(--light-x) * -1.2) calc(var(--light-y) * -1.2) 20px var(--neu-shadow-color),
+              calc(var(--light-x) * 1.2) calc(var(--light-y) * 1.2) 20px var(--neu-highlight-color);
+      }
+
+      &:active, &.neu-pressed {
+          @apply translate-y-0 bg-background;
+          box-shadow: 
+              inset 4px 4px 8px var(--neu-shadow-color),
+              inset -4px -4px 8px var(--neu-highlight-color);
+      }
+  }
+
+  /* Utility: Round Shape */
+  .neu-round {
+      @apply rounded-full flex items-center justify-center aspect-square;
+  }
+
+  /* 
+     Effect: Shine (流光)
+     Restored: Uses a "light beam" gradient that sweeps across.
+     Technique: Uses ::after with inset:0 and border-radius:inherit to mask the shine 
+     without requiring overflow:hidden on the parent (which breaks Tooltips).
+  */
+  .effect-shine,
+  .btn:not(.btn-link):not(:disabled):not(.no-shine),
+  .neu-btn:not(:disabled):not(.no-shine),
+  .toggle:not(:disabled):not(.no-shine),
+  [role="tab"]:not([aria-selected="true"]):not(:disabled):not(.no-shine),
+  .carousel-previous:not(:disabled):not(.no-shine),
+  .carousel-next:not(:disabled):not(.no-shine) {
+      /* Removed @apply relative to prevent overriding absolute positioning on carousel buttons */
+      
+      &::after {
+          content: '';
+          @apply absolute inset-0 z-10 pointer-events-none;
+          border-radius: inherit;
+          
+          /* 
+             The "Beam" Shine (Restored)
+             - 90deg gradient (vertical lines)
+             - Uses currentColor mix as per original
+             - Simulates the 'left' transition using background-position
+          */
+          background: linear-gradient(
+              90deg, 
+              transparent, 
+              color-mix(in srgb, currentColor, transparent 90%), 
+              transparent
+          );
+          background-size: 50% 100%; /* The beam width */
+          background-repeat: no-repeat;
+          background-position: -100% 0; /* Start off-left */
+          transition: background-position 0.5s ease-in-out;
+      }
+      
+      &:hover::after {
+          background-position: 200% 0; /* Slide to off-right */
+      }
+  }
+
+  /* 
+     Effect: Lift (上浮)
+     Excluded for Tabs as requested.
+     Excluded Carousel buttons to avoid conflict with absolute centering transform.
+  */
+  .effect-lift,
+  .btn:not(.btn-link):not(:disabled):not(.no-lift),
+  .neu-btn:not(:disabled):not(.no-lift),
+  .toggle:not(:disabled):not(.no-lift) {
+      @apply transition-transform duration-200 ease-out will-change-transform;
+      
+      &:hover {
+          @apply -translate-y-0.5;
+      }
+      
+      &:active {
+          @apply translate-y-0;
+      }
+  }
+
+  /*
+     Pattern: Floating Label Group
+     Requires: <div class="neu-floating-group"><input placeholder=" "><label>...</label></div>
+     Uses pure CSS (:placeholder-shown) to toggle label position.
+  */
+  .neu-floating-group {
+      @apply relative w-full;
+
+      input {
+          /* Increase height and padding to make room for the label */
+          @apply w-full h-14 pt-6 pb-2 px-4;
+          
+          /* Ensure placeholder is hidden (opacity 0) but present for the selector to work */
+          &::placeholder {
+              @apply text-transparent;
+          }
+      }
+
+      label {
+          @apply absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground transition-all duration-200 ease-out pointer-events-none;
+      }
+
+      /* 
+         State: Focused OR Not Placeholder Shown (Has Content) 
+         Move label to top.
+      */
+      input:focus + label,
+      input:not(:placeholder-shown) + label {
+          @apply top-4 -translate-y-1/2 text-xs font-medium;
+      }
+      
+      /* Active Highlight Color */
+      input:focus + label {
+          @apply text-primary;
+      }
+  }
+
+  /*
+     Pattern: 3D Flip (Checkbox Hack)
+     Allows a card to flip 180deg without JavaScript.
+     
+     Structure:
+     <div class="neu-flip-container [neu-flip-vertical]">
+       <input type="checkbox" class="neu-flip-toggle" id="flip-id">
+       <div class="neu-flip-inner">
+         <div class="neu-flip-face">Front Content</div>
+         <div class="neu-flip-face neu-flip-back">Back Content</div>
+       </div>
+     </div>
+  */
+  .neu-flip-container {
+      perspective: 1000px;
+  }
+
+  .neu-flip-toggle {
+      @apply hidden;
+  }
+
+  .neu-flip-inner {
+      @apply relative w-full h-full transition-transform duration-700 ease-in-out;
+      transform-style: preserve-3d;
+  }
+
+  .neu-flip-face {
+      @apply absolute inset-0 backface-hidden;
+      backface-visibility: hidden;
+      -webkit-backface-visibility: hidden;
+  }
+
+  /* Default Horizontal Flip (Rotate Y) */
+  .neu-flip-back {
+      transform: rotateY(180deg);
+  }
+  .neu-flip-toggle:checked ~ .neu-flip-inner {
+      transform: rotateY(180deg);
+  }
+
+  /* Vertical Flip Variant (Rotate X) */
+  .neu-flip-container.neu-flip-vertical {
+      .neu-flip-back {
+          transform: rotateX(180deg);
+      }
+      .neu-flip-toggle:checked ~ .neu-flip-inner {
+          transform: rotateX(180deg);
+      }
+  }
+}
