import{aE as V,C,G as Y,e as K,m as A,Y as z,aF as J,v as Z,k as Q,aG as W,g as X,aH as m,A as U,aI as x,ak as ee,q as re,aJ as se,aK as ae,aL as te,aM as ie,aN as fe}from"./BS2-Cwni.js";import{c as ue,d as le}from"./DSIzwGkI.js";import{a as oe,n as ce,c as ne}from"./xC2C8d09.js";import{t as ve,c as _e,s as de}from"./DgOdewLW.js";function be(e,s){var r=void 0,a;V(()=>{r!==(r=s())&&(a&&(C(a),a=null),r&&(a=Y(()=>{K(()=>r(e))})))})}function O(e,s={},r,a){for(var t in r){var v=r[t];s[t]!==v&&(r[t]==null?e.style.removeProperty(t):e.style.setProperty(t,v,a))}}function he(e,s,r,a){var t=e.__style;if(A||t!==s){var v=ve(s,a);(!A||v!==e.getAttribute("style"))&&(v==null?e.removeAttribute("style"):e.style.cssText=v),e.__style=s}else a&&(Array.isArray(a)?(O(e,r?.[0],a[0]),O(e,r?.[1],a[1],"important")):O(e,r,a));return a}function M(e,s,r=!1){if(e.multiple){if(s==null)return;if(!z(s))return J();for(var a of e.options)a.selected=s.includes(G(a));return}for(a of e.options){var t=G(a);if(Z(t,s)){a.selected=!0;return}}(!r||s!==void 0)&&(e.selectedIndex=-1)}function ye(e){var s=new MutationObserver(()=>{M(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{s.disconnect()})}function G(e){return"__value"in e?e.__value:e.value}const E=Symbol("class"),T=Symbol("style"),j=Symbol("is custom element"),q=Symbol("is html");function pe(e){if(A){var s=!1,r=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var a=e.value;k(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var t=e.checked;k(e,"checked",null),e.checked=t}}};e.__on_r=r,re(r),se()}}function Ie(e,s){var r=P(e);r.value===(r.value=s??void 0)||e.value===s&&(s!==0||e.nodeName!=="PROGRESS")||(e.value=s??"")}function Ae(e,s){s?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function k(e,s,r,a){var t=P(e);A&&(t[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||t[s]!==(t[s]=r)&&(s==="loading"&&(e[ie]=r),r==null?e.removeAttribute(s):typeof r!="string"&&B(e).includes(s)?e[s]=r:e.setAttribute(s,r))}function ge(e,s,r,a,t=!1,v=!1){if(A&&t&&e.tagName==="INPUT"){var b=e,L=b.type==="checkbox"?"defaultChecked":"defaultValue";L in r||pe(b)}var h=P(e),_=h[j],y=!h[q];let g=A&&_;g&&U(!1);var u=s||{},N=e.tagName==="OPTION";for(var d in s)d in r||(r[d]=null);r.class?r.class=_e(r.class):(a||r[E])&&(r.class=null),r[T]&&(r.style??=null);var I=B(e);for(const i in r){let f=r[i];if(N&&i==="value"&&f==null){e.value=e.__value="",u[i]=f;continue}if(i==="class"){var S=e.namespaceURI==="http://www.w3.org/1999/xhtml";de(e,S,f,a,s?.[E],r[E]),u[i]=f,u[E]=r[E];continue}if(i==="style"){he(e,f,s?.[T],r[T]),u[i]=f,u[T]=r[T];continue}var c=u[i];if(!(f===c&&!(f===void 0&&e.hasAttribute(i)))){u[i]=f;var $=i[0]+i[1];if($!=="$$")if($==="on"){const n={},p="$$"+i;let l=i.slice(2);var w=ne(l);if(oe(l)&&(l=l.slice(0,-7),n.capture=!0),!w&&c){if(f!=null)continue;e.removeEventListener(l,u[p],n),u[p]=null}if(f!=null)if(w)e[`__${l}`]=f,le([l]);else{let D=function(F){u[i].call(this,F)};u[p]=ue(l,e,D,n)}else w&&(e[`__${l}`]=void 0)}else if(i==="style")k(e,i,f);else if(i==="autofocus")x(e,!!f);else if(!_&&(i==="__value"||i==="value"&&f!=null))e.value=e.__value=f;else if(i==="selected"&&N)Ae(e,f);else{var o=i;y||(o=ce(o));var R=o==="defaultValue"||o==="defaultChecked";if(f==null&&!_&&!R)if(h[i]=null,o==="value"||o==="checked"){let n=e;const p=s===void 0;if(o==="value"){let l=n.defaultValue;n.removeAttribute(o),n.defaultValue=l,n.value=n.__value=p?l:null}else{let l=n.defaultChecked;n.removeAttribute(o),n.defaultChecked=l,n.checked=p?l:!1}}else e.removeAttribute(i);else R||I.includes(o)&&(_||typeof f!="string")?(e[o]=f,o in h&&(h[o]=ee)):typeof f!="function"&&k(e,o,f)}}}return g&&U(!0),u}function ke(e,s,r=[],a=[],t=[],v,b=!1,L=!1){W(t,r,a,h=>{var _=void 0,y={},g=e.nodeName==="SELECT",u=!1;if(V(()=>{var d=s(...h.map(X)),I=ge(e,_,d,v,b,L);u&&g&&"value"in d&&M(e,d.value);for(let c of Object.getOwnPropertySymbols(y))d[c]||C(y[c]);for(let c of Object.getOwnPropertySymbols(d)){var S=d[c];c.description===m&&(!_||S!==_[c])&&(y[c]&&C(y[c]),y[c]=Y(()=>be(e,()=>S))),I[c]=S}_=I}),g){var N=e;K(()=>{M(N,_.value,!0),ye(N)})}u=!0})}function P(e){return e.__attributes??={[j]:e.nodeName.includes("-"),[q]:e.namespaceURI===ae}}var H=new Map;function B(e){var s=e.getAttribute("is")||e.nodeName,r=H.get(s);if(r)return r;H.set(s,r=[]);for(var a,t=e,v=Element.prototype;v!==t;){a=fe(t);for(var b in a)a[b].set&&r.push(b);t=te(t)}return r}export{he as a,ke as b,Ie as c,pe as r,k as s};
